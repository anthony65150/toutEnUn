/* ================================
   POINTAGE — STYLES GLOBAUX
================================ */

/* Jour actif : uniquement le header (fond noir + texte blanc) */
thead th.day-active {
  background-color: #212529 !important;
  color: #ffffff !important;
}
thead th.day-active .small.fw-semibold {
  color: #ffffff !important;
  font-weight: 700;
}

/* Liserés bleus desktop pour toute la colonne du jour (header + cellules) */
thead th.day-active,
tbody td.day-active { position: relative; }
thead th.day-active::before,
tbody td.day-active::before {
  content: "";
  position: absolute;
  top: -1px; bottom: -1px; left: -2px; right: -2px;
  border-left: 3px solid #0d6efd;
  border-right: 3px solid #0d6efd;
  pointer-events: none;
  border-radius: 2px;
}
/* Fond très léger (desktop) sur les cellules de la colonne active */
tbody td.day-active { background: #f7fbff !important; }

/* Curseurs dans l’en-tête */
thead th { cursor: default; }
thead th .small.text-muted { cursor: pointer; }

/* Week-end (desktop) */
@media (min-width: 768px) { th.weekend { background: #fafafa; } }

/* Pastille absence (si utilisée) */
.absence-pill { margin-top: 2px; }

/* --- Mini slider camions --- */
.truck-mini { display: flex; align-items: center; gap: .6rem; margin: .25rem 0 .5rem; }
.truck-mini .label  { font-size: .9rem; color: #6c757d; white-space: nowrap; }
.truck-mini .bubble { font-size: .85rem; padding: .1rem .5rem; border-radius: 999px; background: #f1f3f5; color: #495057; }
.truck-mini .truck-range { width: 190px; height: 2px; accent-color: #0d6efd; }
.truck-mini .name  { font-size: .9rem; color: #0d6efd; opacity: .85; }

/* Input nombre camions : supprime les flèches natives */
#camionCount::-webkit-outer-spin-button,
#camionCount::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
#camionCount { -moz-appearance: textfield; }

/* Table desktop : header sombre + arrondis */
@media (min-width: 768px){
  .pointage-table thead.table-dark th{
    background:#2f3947!important;
    border-color:#2b3441!important;
  }
  .pointage-table{ border-radius:12px; overflow:hidden; }
  .pointage-table .btn.btn-sm{ padding: .3rem .55rem; }
}

/* Header sombre par défaut */
.table-dark th {
  background-color: #212529 !important;
  color: #fff !important;
  text-align: center;
  vertical-align: middle;
}

/* Corps : fond blanc + fine séparation (pas de zébrage) */
.pointage-table tbody tr { background-color: #ffffff; }
.pointage-table tbody tr + tr { border-top: 1px solid #f1f3f5; }

/* Bordures fines globales */
.pointage-table td, 
.pointage-table th { border: 1px solid #dee2e6; }

/* =======================================
   MOBILE — TIMELINE VERTICALE
======================================= */
@media (max-width: 767.98px) {
  /* Masquer l’en-tête du tableau et transformer chaque ligne en carte */
  .pointage-table thead { display: none; }
  .pointage-table tbody, .pointage-table tr, .pointage-table td { display: block; width: 100%; }

  /* Supprimer les bordures de table par défaut */
  .pointage-table.table,
  .pointage-table.table > :not(caption) > * > * { border: 0 !important; }

  .pointage-table tr {
    background: #fff;
    border-radius: 14px;
    box-shadow: 0 6px 16px rgba(0,0,0,.06);
    margin: 12px 0;
    padding: 12px 12px 4px;
    border: 1px solid #eef1f4;
  }

  /* Cellule nom/role = en-tête de la carte */
  .pointage-table td.emp-cell {
    display: flex; align-items: center; gap: 8px;
    padding: 6px 4px 10px; border: 0; font-size: 15px;
  }
  .pointage-table td.emp-cell .badge { transform: translateY(-1px); }

  /* Chaque jour = rangée de timeline */
  .pointage-table td.tl-cell {
    position: relative;
    padding: 12px 12px 12px 46px; /* place pour rail + dot */
    border: 0;
    border-top: 1px dashed #e8edf3;
    background: #ffffff;
  }

  /* Libellé du jour (style normal, pas de badge coloré) */
  .pointage-table td.tl-cell::before {
    content: attr(data-day-label);
    position: absolute;
    left: 46px; top: -10px;
    font-size: 11px; color: #6b7785;
    background: #fff; padding: 0 6px;
    display: inline;
    white-space: normal;
  }

  /* Rail vertical de la timeline (style normal) */
  .pointage-table td.tl-cell::after {
    content: "";
    position: absolute;
    left: 20px; top: 0; bottom: 0;
    width: 2px;
    background: linear-gradient(to bottom, #dbe4f0, #eef3f9);
    border-radius: 2px;
  }

  /* Dot */
  .tl-dot {
    position: absolute; left: 14px; top: 14px;
    width: 12px; height: 12px; border-radius: 50%;
    background: #9aa7b2; box-shadow: 0 0 0 4px #ffffff; z-index: 1;
    transition: background-color .2s ease;
  }
  .tl-dot.present { background: #28a745; }
  .tl-dot.absent  { background: #dc3545; }
  .tl-dot.plan    { background: #0d6efd; }

  /* JOUR ACTIF — mobile : on garde tout NORMAL (pas de badge bleu) */
  .pointage-table td.tl-cell.day-active { background: #ffffff !important; }
  .pointage-table td.tl-cell.day-active::after {
    left: 20px; width: 2px; background: linear-gradient(to bottom, #dbe4f0, #eef3f9) !important;
  }
  .pointage-table td.tl-cell.day-active::before {
    background: #fff !important; color: #6b7785 !important; border-radius: 0;
    padding: 0 6px; font-weight: 400; font-size: 11px; top: -10px; left: 46px;
    display: inline; width: auto !important; max-width: none !important; white-space: normal; box-shadow: none;
  }
}

/* ================================
   INTERACTIONS / ETATS BOUTONS
================================ */

.btn-outline-success.active,
.btn-outline-primary.active,
.btn-outline-danger.active {
  color: #fff !important;
  border-color: transparent !important;
  background-color: currentColor;
}
.btn-outline-success.active { background-color: #198754 !important; }
.btn-outline-primary.active { background-color: #0d6efd !important; }
.btn-outline-danger.active  { background-color: #dc3545 !important; }

.present-btn.btn-outline-success.active,
.conduite-btn.btn-outline-primary.active,
.conduite-btn.btn-outline-success.active {
  border-color: transparent !important;
  color: #fff !important;
}

/* Utilitaires */
.text-muted-soft { color:#8a94a5 !important; }
.bg-soft         { background:#f8f9fb !important; }
.rounded-2xl     { border-radius: 14px !important; }


/* MOBILE — libellé du jour actif : bleu et lisible, sans badge */
@media (max-width: 767.98px) {
  .pointage-table td.tl-cell.day-active::before {
    color: #0d6efd !important;      /* bleu Bootstrap */
    background: transparent !important;
    font-weight: 700 !important;     /* un peu plus marqué */
    padding: 0 6px !important;       /* taille identique aux autres labels */
    display: inline !important;      /* pas de bloc */
    white-space: nowrap !important;  /* reste sur une ligne */
  }
}
